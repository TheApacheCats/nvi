#	$Id: README,v 8.3 1996/02/21 12:53:17 bostic Exp $ (Berkeley) $Date: 1996/02/21 12:53:17 $

Nvi uses the GNU autoconf program for configuration and compilation.
You should enter:

	./configure<carriage-return>
	make<carriage-return>

and nvi should configure the system and build two binaries, named
"nex" and "nvi" for you.  There are options that you can specify
to the ./configure command.  The most common of these are:

	--with-curses=XXXX

	See the next section of this README for information about
	nvi and the curses library.

If you have trouble with this procedure, send email to the addresses
listed in ../README.  In that email, please provide a complete script
of the output for all of the above commands that you entered.

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
If you want to rebuild nvi, for example, you change your mind about
what curses library implementation that you want to use, enter:

	make distclean<carriage-return>

and then follow the above instructions.

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
The major portability problem for nvi is selecting a curses library.
Unfortunately, it is not at all uncommon to find broken versions of
curses -- the original System V curses was broken, resulting in all
vendors whose implementations are derived from System V having broken
implementations in turn.

For this reason, BY DEFAULT, nvi uses the stripped-down curses library
that's included in its distribution.  Of course, it would be preferable
to use the vendor's curses library, or one of the newer implementations
of curses, e.g., ncurses.

To use the vendor's curses library, configure nvi as follows:

	./configure --with-curses=system<carriage-return>
	
To have the configure script prompt you for the path of the curses library
and the path of the <curses.h> include file, configure nvi as follows:

	./configure --with-curses=ask<carriage-return>
	
In this case, you will be prompted:

	Type in the pathname of the curses library:

You should enter the path of the curses library you want to use, e.g.,
"/usr/local/lib/libcurses.a".  You will then be prompted:

	Type in the pathname of the directory holding <curses.h>:

You should enter the path of the DIRECTORY where the compiler can find
the <curses.h> include file, e.g., "/usr/local/include/".

If you use the vendor's or other curses library, and you see any of the
following symptoms:

	+ Core dumps in curses routines.
	+ Line-by-line screen repainting instead of scrolling.
	+ Missing routines when compiling.
	+ Repainting the wrong characters on the screen.
	+ Displaying inverse video in the wrong places.

you have a broken curses implementation, and you should reconfigure nvi
to use another curses library or the curses library provided with nvi.
To use the curses library provided with nvi, configure nvi as follows:

	./configure --with-curses=vi<carriage-return>

There are two alternative sources for curses libraries:

#1: Compile the 4BSD curses library from any of the recent BSD
    releases: FreeBSD, NetBSD or 4.4BSD-Lite release 2.  These
    libraries should be able to support nvi.

#2: Retrieve and build the ncurses library.  This library is not
    recommended unreservedly, at least for now, for two reasons.
    First, it can't be built on any system where the compiler
    doesn't support function prototypes.  Second, it currently has
    a few bugs in its support for nvi.  It mostly works, but it's
    still not quite right.
